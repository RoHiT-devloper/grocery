<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkout Form</title>
</head>
<style>
body {
    font-family: 'Arial', sans-serif;
    background: radial-gradient(#fdeded, #ffead6);
}
.form-content{
    margin-left: 20%;
    padding: 0;
    display: flex;
    align-items: left;
    justify-content: left;
    height: 97vh;

}

.container {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

form {
    max-width: 800px;
    margin-left: 60px;
    margin-right: 60px;
    
}

label {
    display: block;
    margin-bottom: 8px;
}


input{
    width: 100%;
    padding: 8px;
    margin-bottom: 16px;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 4px;
}
textarea {
    width: 100%;
    padding: 10px;
    margin-bottom: 16px;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 4px;
}
h1{
    text-align: center;
}
h3 {
    text-align: center;
}

.payment-options {
    display: flex;
    justify-content: space-around;
    margin-top: 20px;
    text-align: center;
    margin-bottom: 10px;
}
input[type="radio"] {
    margin-right: 5px;
}

/* Style for selected option */
input[type="radio"]:checked+span {
    color: #4caf50;
    font-weight: bold;
    
}

.submit-btn{
    background-color: #476db9;
    color: white;
    padding: 10px 60px;
    border: none;
    outline: none;
    border-radius: 30px;
    cursor: pointer;
    font-weight: 500;
    font-size: 15px;
    margin-left: 25%;
    
}

.submit-btn:hover {
    background-color: #3c5077;
}
.popup{
    width: 400px;
    background: #fff;
    border-radius: 6px;
    position: absolute;
    top: 0;
    left: 50%;
    transform: translate(-50%, -50%) scale(0.1);
    text-align: center;
    padding: 0 30px 30px;
    color: #333;
    visibility: hidden;
    transition: transform 0.4s, top 0.4s;
}

.open-popup{
    visibility: visible;
    top: 50%;
    transform: translate(-50%, -50%) scale(1);
}
.popup img{
    width: 100px;
    margin-top: -50px;
    border-radius: 50%;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
}
.popup h2{
    font-size: 38px;
    font-weight: 500;
    margin: 30px 0 10px;
}
.popup .btn{
    width: 100%;
    margin-top: 50px;
    padding: 10px 0;
    background: #6fd649;
    color: #fff;
    border: 0;
    outline: none;
    font-size: 18px;
    border-radius: 4px;
    cursor: pointer;
    box-shadow: 0 5px 5px rgba(0, 0, 0, 0.2);
}
select {
    width: 100%;
    padding: 8px;
    margin-bottom: 16px;
    box-sizing: border-box;
    border: 1px solid #ccc;
    border-radius: 4px;
}
.cart-content{
    margin-right: 10%;
    padding: 0;
    margin-top: 20px;
    margin-left: 20px;
    align-items: right;
    justify-content: right;
}
#cartDetails {
    max-width: 400px;
    margin: 0 auto;
}

.cart-item {
    border: 1px solid #ddd;
    padding: 5px;
    margin-bottom: 15px;
    background-color: #fff;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    display: flex;
    align-items: right;
}
.cart-item-image {
    width: 70px;
    height: 70px;
    margin-top: 50px;
    margin-right: 15px;
    border-radius: 8px;
    object-fit: cover;
}

.cart-item-details {
    flex: 1;
    text-align: left;
}

#total {
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    margin-top: 20px;
    
}

.product-name {
    font-size: 1.2em;
    font-weight: bold;
    margin-bottom: 5px;
}

.product-price {
    font-size: 1em;
    color: #555;
    margin-bottom: 5px;
}

.quantity-total {
    font-size: 0.9em;
    color: #777;
    margin-bottom: 5px;
}

.delete-btn {
    background-color: #ff5555;
    color: #fff;
    border: none;
    padding: 8px 15px;
    cursor: pointer;
    text-align: center;
    border-radius: 5px;
    margin-left: 10px;
            
}
.delete-btn:hover{
    background-color: #ac3838;
}
.add-btn {
    background-color: #59eb04;
    color: #fff;
    border: none;
    padding: 8px 15px;
    cursor: pointer;
    text-align: center;
    border-radius: 5px;
           
}
.add-btn:hover{
    background-color: #2abe22;
}
.empty-cart-message {
    text-align: center;
    color: #777;
}
@media only screen and (max-width: 800px){
    .cart-content{
        visibility: hidden;
    }
    .form-content{
        height:75%;
        margin-left: 60px;
    }
    form{
        max-width: 200px;
        margin-left: 60px;
        margin-right: 100px;
    }
    input{
        width: 250px;
        padding: 8px;
        margin-bottom: 16px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    textarea {
        width: 250px;
        padding: 10px;
        margin-bottom: 16px;
        box-sizing: border-box;
        border: 1px solid #ccc;
        border-radius: 4px;
    }
    label {
        display: block;
        margin-bottom: 8px;
    }
    h1{
        text-align: center;
    }
    h3 {
        text-align: center;
    }

    .payment-options {
        display: flex;
        justify-content: space-around;
        margin-top: 20px;
        text-align: center;
        margin-bottom: 10px;
    }   
    input[type="radio"] {
        margin-right: 5px;
    }
    span{
        text-align: center;
    }

    /* Style for selected option */
    input[type="radio"]:checked+span {
        color: #4caf50;
        font-weight: bold;
    
    }
}

</style>
<body>
 
<div class="form-content">
<div class="container">
    <form id="checkoutForm">
        <h1>Checkout Form</h1>
        
        <label for="name">Full Name:</label>
        <input type="text" id="name" name="name" required>

        <label for="number">Phone Number:</label>
        <input type="number" id="number" name="number" required>

        <label for="address">Address:</label>
        <textarea id="address" name="address" required></textarea>
        
        
        <label for="country">Country:</label>
        <select id="country" onchange="updateStates()">
                <option value="us">India</option>
                <option value="ca">United States</option>
                <!-- Add more countries as needed -->
        </select>

        <label for="state">State:</label>
        <select id="state" onchange="updateStates()">
            <option value="us">Jharkhand</option>
            <option value="ca">Bihar</option>
            <!-- State options will be dynamically populated based on the selected country -->
        </select>

        <h3>Select Payment Mode:</h3>

        <div class="payment-options">
            <label>
                <input type="radio" name="payment" value="credit_card">
                <span>COD</span>
            </label>

            <label>
                <input type="radio" name="payment" value="paypal">
                <span>PhonePe</span>
            </label>

            <label>
                <input type="radio" name="payment" value="bank_transfer">
                <span>Bank Transfer</span>
            </label>
        </div>

        
        


        
    </form>
    <button type="button" class="submit-btn" onclick="openPopup()">Place Order</button>
        <div class="popup" id="popup">
            <img src="images/tick.png">
            <h2>Thank You!</h2>
            <p>Your Order has been placed successfully. Thanks!</p>
            <button type="button" class="btn" onclick="closePopup()">OK</button>
        </div>
</div>

<!--------------Cart items Details-->


<div class="cart-content">
<h1 style="text-align: center;">Cart Details</h1>

    <div id="cartDetails">
        <!-- Cart details will be displayed here -->
    </div>



    <script>
        function addProduct(index) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Check if the product is already in the cart
            let product = cart[index];

            if (product) {
                // Increase the quantity
                product.quantity += 1;

                // Save the updated cart to local storage
                localStorage.setItem('cart', JSON.stringify(cart));

                // Display the updated cart
                displayCart();
                displayTotal();
            }
        }
        function deleteProduct(index) {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Check if the product is already in the cart
            let product = cart[index];

            if (product) {
                // If the product is in the cart, decrease the quantity
                if (product.quantity > 1) {
                    product.quantity -= 1;
                } else {
                    // If the quantity is 1, remove the product from the cart
                    cart.splice(index, 1);
                }

                // Save the updated cart to local storage
                localStorage.setItem('cart', JSON.stringify(cart));

                // Display the updated cart
                displayCart();
                displayTotal();
            }
        }

        function calculateTotal() {
            let cart = JSON.parse(localStorage.getItem('cart')) || [];
            let totalSum = 0;

            cart.forEach((product) => {
                totalSum += product.quantity * product.price;
            });

            return totalSum;
        }


        function displayCart() {
            // Retrieve the cart from local storage
            let cart = JSON.parse(localStorage.getItem('cart')) || [];

            // Get the element where cart details will be displayed
            let cartDetailsElement = document.getElementById('cartDetails');

            cartDetailsElement.innerHTML = '';

            // Display each product in the cart
            cart.forEach((product, index) => {
                let productDiv = document.createElement('div');
                productDiv.classList.add('cart-item');

                let productImage = document.createElement('img');
                productImage.src = product.image;
                productImage.classList.add('cart-item-image');

                let cartItemDetails = document.createElement('div');
                cartItemDetails.classList.add('cart-item-details');

                let productNameElement = document.createElement('h4');
                productNameElement.textContent = product.name;

                let productPriceElement = document.createElement('p');
                productPriceElement.textContent = `Rs. ${product.price}`;

                let quantityElement = document.createElement('p');
                quantityElement.textContent = `Quantity: ${product.quantity}`;

                let total = product.quantity * product.price;

                let totalElement = document.createElement('p');
                totalElement.textContent = `Total: Rs. ${total}`;

                let addButton = document.createElement('button');
                addButton.classList.add('add-btn');
                addButton.textContent = 'Add';
                addButton.addEventListener('click', () => addProduct(index));

                let deleteButton = document.createElement('button');
                deleteButton.classList.add('delete-btn');
                deleteButton.textContent = 'Delete';
                deleteButton.addEventListener('click', () => deleteProduct(index));

                // Appending elements
                cartItemDetails.appendChild(productNameElement);
                cartItemDetails.appendChild(productPriceElement);
                cartItemDetails.appendChild(quantityElement);
                cartItemDetails.appendChild(totalElement);
                cartItemDetails.appendChild(addButton);
                cartItemDetails.appendChild(deleteButton);


                productDiv.appendChild(productImage);
                productDiv.appendChild(cartItemDetails);

                cartDetailsElement.appendChild(productDiv);
            });

            // If the cart is empty, display a message
            if (cart.length === 0) {
                let emptyCartMessage = document.createElement('p');
                emptyCartMessage.textContent = 'Your cart is empty.';
                cartDetailsElement.appendChild(emptyCartMessage);
            }
        }
        function displayTotal() {
            let totalSum = calculateTotal();
            let totalElement = document.getElementById('total');

            totalElement.textContent = `Total: Rs. ${totalSum.toFixed(2)}`;
        }

        // Call the displayTotal function when the page loads and after updating the cart
        window.onload = function () {
            displayCart();
            displayTotal();
        };

    </script>

    <!-- Add this div for displaying the total -->
    <div id="total"></div>
</div> 
    
</div>



<script>
    let popup = document.getElementById("popup");


    function openPopup(){
        popup.classList.add("open-popup");
    }
    function closePopup(){
        popup.classList.remove("open-popup");
    }
    // Sample data for states and cities
    const data = {
        us: {
            states: ['Delhi', 'Bihar', 'Jharkhand', 'West Bengal'],
        },
        ca: {
            states: ['Ontario', 'Quebec', 'British Columbia'],
        }
    };

    function updateStates() {
        const countrySelect = document.getElementById('country');
        const stateSelect = document.getElementById('state');

        const selectedCountry = countrySelect.value;
        const states = data[selectedCountry].states;

        // Clear previous state and city options
        stateSelect.innerHTML = '<option value="">Select State</option>';

        // Populate state options
        states.forEach(state => {
            const option = document.createElement('option');
            option.value = state;
            option.textContent = state;
            stateSelect.appendChild(option);
        });
    }


</script>

</body>
</html>
